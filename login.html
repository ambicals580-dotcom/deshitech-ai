<h2>DESHITECH AI Login</h2>

<input id="email" placeholder="Email"><br>
<input id="password" type="password" placeholder="Password"><br>

<button onclick="login()">Login</button>
<button onclick="register()">Register</button>

<script>
async function login(){
  let r = await fetch("/login", {
    method:"POST",
    headers:{ "Content-Type":"application/x-www-form-urlencoded" },
    body:`email=${email.value}&password=${password.value}`
  });
  let d = await r.json();
  localStorage.setItem("token", d.token);
  window.location="/chat-ui";
}

async function register(){
  await fetch("/register", {
    method:"POST",
    headers:{ "Content-Type":"application/x-www-form-urlencoded" },
    body:`email=${email.value}&password=${password.value}`
  });
  alert("Registered. Now login.");
}
</script>